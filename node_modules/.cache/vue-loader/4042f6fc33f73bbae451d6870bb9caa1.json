{"remainingRequest":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\TAILTASK\\user\\src\\components\\modals\\DispositionModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\src\\components\\modals\\DispositionModal.vue","mtime":1608109170156},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEYXRlIGZyb20gJ0AvY29tcG9uZW50cy9vdGhlcnMvRGF0ZS52dWUnOwoKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGlwb3NpdGlvbk1vZGFsJywKICBwcm9wczogewogIH0sCiAgY29tcG9uZW50czogewogICAgRGF0ZSwKICB9LAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIGNhbGxiYWNrOiBmYWxzZSwKICAgICAgc2VsZWN0RGlzcG9zaXRpb246IG51bGwsCiAgICAgIHBhdXNlSW5yZWFkeSA6IGZhbHNlLAogICAgICBtaW5lT25seSA6IGZhbHNlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBjbG9zZUNhbGVuZGVyKCl7CiAgICAvLyAgdGhpcy4kcGFyZW50LmRpc3Bvc2l0aW9uTW9kYWwgPSBmYWxzZQogICAgLy8gdGhpcy5jYWxsYmFjayA9IGZhbHNlCiAgICAvLyB9LAogICAgY2FsbE1lKCl7CiAgICAgIHRoaXMuY2FsbGJhY2sgPSB0cnVlCiAgICB9LAogICAgY2xvc2VNb2RhbCgpIHsKICAgICAgICB0aGlzLnNob3dNb2RhbCA9IHRydWUKICAgICAgfSwKICAgIHN1Ym1pdCgpIHsKICAgICAgbGV0IHBheWxvYWQgPSB7IAogICAgICAgICJ1c2VybmFtZSI6bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSwKICAgICAgICAicGhvbmUiOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG9uZScpLAogICAgICAgICJjYW1wYWlnbiI6dGhpcy4kc3RvcmUuc3RhdGUuY2FtcGFpZ24sIAogICAgICAgICJsZWFkX2lkIjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xlYWRfaWQnKSwKICAgICAgICAic3RhdHVzIjp0aGlzLnNlbGVjdERpc3Bvc2l0aW9uCiAgICAgIH0KICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Rpc3Bvc2l0aW9uJyAsIHRoaXMuc2VsZWN0RGlzcG9zaXRpb24pCgogICAgICBpZih0aGlzLnBhdXNlSW5yZWFkeSl7CiAgICAgICAgcGF5bG9hZFsicGF1c2VfY29kZSJdICA9ICB0aGlzLiRzdG9yZS5zdGF0ZS5wYXVzZV9jb2RlCiAgICAgIH0KCiAgICAgIGlmKHRoaXMuc2VsZWN0RGlzcG9zaXRpb24gID09ICJDQUxMQksiKXsKICAgICAgICAvLyBwYXlsb2FkWyJyZWNpcGllbnQiXSAgPSAgKHRoaXMubWluZU9ubHkpID8gIlVTRVJPTkxZIiA6ICJBTllPTkUiCiAgICAgICAgLy8gcGF5bG9hZFsiY2FsbGJhY2tfdGltZSJdICA9ICB0aGlzLiRzdG9yZS5zdGF0ZS5wYXVzZV9jb2RlCiAgICAgICAgLy8gcGF5bG9hZFsiY29tbWVudCJdICA9ICB0aGlzLiRzdG9yZS5zdGF0ZS5wYXVzZV9jb2RlCiAgICAgICAgLy8gdGhpcy4kcGFyZW50LnNob3djYWxlbmRhck1vZGFsID0gdHJ1ZQogICAgICAgIC8vIHRoaXMuJHBhcmVudC5kaXNwb3NpdGlvbk1vZGFsID0gZmFsc2UKICAgICAgICB0aGlzLmNhbGxNZSgpCiAgICAgIH1lbHNlewogICAgICAgIHJldHVybiB0aGlzLiRodHRwCiAgICAgICAgICAucG9zdCgiL2FwaS92MS9kaWFsL2Rpc3Bvc2UiLHBheWxvYWQsIHsgaGVhZGVyczogIHsgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIsICJBdXRob3JpemF0aW9uIjogYEJlYXJlciAke2xvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfWAgfSB9KQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIGlmKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgIC8vdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXJTdGF0ZScsICdQQVVTRUQnKQogICAgICAgICAgICAgICAgdHJ1ZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZGlzcG9zaXRpb24nKQogICAgICAgICAgICAgIHRoaXMuJHBhcmVudC5sb2dzKCkKICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQuaXNEaXNhYmxlID0gZmFsc2UKICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQuZGlzcG9zaXRpb25Nb2RhbCA9IGZhbHNlCiAgICAgICAgICAgICAgLy90aGlzLmNhbGxiYWNrID0gZmFsc2UKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncmVzZXREaXNwb3NpdGlvbicpCiAgICAKICAgICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB7IHRpdGxlOiAgJ0Rpc3Bvc2l0aW9uIEZhaWxlZCcgICwgdGV4dDogZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcix9CiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInJlc2V0RXJyb3IiLHBheWxvYWQpOwogICAgICAgICAgICAgIHRoaXMuJHBhcmVudC50cnlBZ2FpbiA9IGZhbHNlCiAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LmVycm9yTW9kYWwgPSB0cnVlCiAgICAgICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgb3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmRpc3Bvc2l0aW9uT3B0aW9uczsKICAgIH0sCiAgICBlcnJvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmhhbmd1cEVycm9yOwogICAgfSwKICAgIGhhbmd1cFJlYXNvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmhhbmd1cFJlYXNvbjsKICAgIH0sCiAgICBkaXNhYmxlZCgpewogICAgICByZXR1cm4gKHRoaXMuc2VsZWN0RGlzcG9zaXRpb24gPT0gbnVsbCkgPyB0cnVlIDogZmFsc2UKICAgIH0KICAgIAogIH0sCn0K"},{"version":3,"sources":["DispositionModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"DispositionModal.vue","sourceRoot":"src/components/modals","sourcesContent":["<template>\n  <div class=\"\">\n    <!-- Disposition Modal  -->\n    <div class=\"fixed z-10 inset-0 overflow-y-auto\">\n      <div class=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n        <div class=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n          <div class=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n        </div>\n\n        <span class=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n        \n        <div class=\"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-headline\">\n          <div>\n            <div class=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-indigo-200\">\n              <svg class=\"h-6 w-6 text-indigo-600\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path d=\"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z\" />\n                <path d=\"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z\" />\n              </svg>\n            </div>\n\n\n            <div v-if=\"!callback\" class=\"mt-3 text-center sm:mt-5\">\n              <h3 class=\"text-lg leading-6 font-medium text-gray-900\" id=\"modal-headline\">\n                Disposition\n              </h3>\n              <div v-if=\"error\" class=\"lowercase mt-3 py-2 mb-5 text-blue-300 text-sm italic font-bold\">\n                <p>{{ hangupReason }}</p>\n              </div>\n    \n              <div class=\"mt-2\">\n                <fieldset>\n                \n\n                <div class=\"bg-white rounded-md -space-y-px\">\n                  <div class=\"grid grid-cols-3 gap-1\">\n\n                    \n                    <div v-for=\"option in options\" :key=\"option.value\" class=\"relative border border-gray-200 p-2 flex\">\n                      <div class=\"flex items-center h-5\">\n                        <input v-model=\"selectDisposition\" :value=\"option.value\" id=\"settings-option-1\" name=\"privacy_setting\" type=\"radio\" class=\"focus:ring-indigo-500 h-4 w-4 text-indigo-600 cursor-pointer border-gray-300\">\n                      </div>\n                      <label for=\"settings-option-1\" class=\"ml-3 flex flex-col cursor-pointer\">\n                        <span class=\"block text-xs font-medium lowercase\">\n                          {{ option.name }}\n                        </span>\n                      </label>\n                    </div>\n\n                    <!-- <div class=\"relative border rounded-tl-md rounded-tr-md p-2 flex\">\n                      <div class=\"flex items-center h-5\">\n                        <input v-on:change=\"callMe\" id=\"settings-option-0\" name=\"privacy_setting\" type=\"radio\" class=\"focus:ring-indigo-500 h-4 w-4 text-indigo-600 cursor-pointer border-gray-300\">\n                      </div>\n                      <label for=\"settings-option-0\" class=\"ml-3 flex flex-col cursor-pointer\">\n                        <span class=\"block text-sm font-medium\">\n                          Call Back\n                        </span>\n                      </label>\n                    </div> -->\n\n                  </div>\n\n                </div>\n                </fieldset>\n              </div>\n            </div>\n\n            <!-- Call Back Modal -->\n            <div v-if=\"callback\" class=\"mt-3 text-center sm:mt-5\">\n              <h3 class=\"text-lg leading-6 font-medium text-gray-900\" id=\"modal-headline\">\n                Call Back\n              </h3>\n              <div class=\"mt-2 py-10\">\n              \n                <Date />\n\n              </div>\n            </div>\n\n          </div>\n          <!-- <div v-if=\"callback\" class=\"mt-5 sm:mt-6 sm:grid justify-center\">\n            <button :disabled=\"disabled\" type=\"button\" class=\"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-white hover:text-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm\">\n              Submit Call Back\n            </button>\n          </div> -->\n          <div v-if=\"!callback\" class=\"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense\">\n            <button :disabled=\"disabled\" @click=\"submit\" type=\"button\" class=\"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-white hover:text-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm\">\n              Submit & Resume\n            </button>\n            <button @click=\"dispositions = false\" type=\"button\" class=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-white hover:text-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm\">\n              Submit & Pause\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Date from '@/components/others/Date.vue';\n\n\nexport default {\n  name: 'DipositionModal',\n  props: {\n  },\n  components: {\n    Date,\n  },\n  data(){\n    return {\n      callback: false,\n      selectDisposition: null,\n      pauseInready : false,\n      mineOnly : false\n    }\n  },\n  methods: {\n    // closeCalender(){\n    //  this.$parent.dispositionModal = false\n    // this.callback = false\n    // },\n    callMe(){\n      this.callback = true\n    },\n    closeModal() {\n        this.showModal = true\n      },\n    submit() {\n      let payload = { \n        \"username\":localStorage.getItem('user'),\n        \"phone\":localStorage.getItem('phone'),\n        \"campaign\":this.$store.state.campaign, \n        \"lead_id\": localStorage.getItem('lead_id'),\n        \"status\":this.selectDisposition\n      }\n      localStorage.setItem('disposition' , this.selectDisposition)\n\n      if(this.pauseInready){\n        payload[\"pause_code\"]  =  this.$store.state.pause_code\n      }\n\n      if(this.selectDisposition  == \"CALLBK\"){\n        // payload[\"recipient\"]  =  (this.mineOnly) ? \"USERONLY\" : \"ANYONE\"\n        // payload[\"callback_time\"]  =  this.$store.state.pause_code\n        // payload[\"comment\"]  =  this.$store.state.pause_code\n        // this.$parent.showcalendarModal = true\n        // this.$parent.dispositionModal = false\n        this.callMe()\n      }else{\n        return this.$http\n          .post(\"/api/v1/dial/dispose\",payload, { headers:  {  \"Content-Type\": \"application/json\", \"Accept\": \"application/json\", \"Authorization\": `Bearer ${localStorage.getItem('token')}` } })\n          .then(response => {\n              if(response){\n                //this.$store.dispatch('userState', 'PAUSED')\n                true\n              }\n              localStorage.removeItem('disposition')\n              this.$parent.logs()\n              this.$parent.isDisable = false\n              this.$parent.dispositionModal = false\n              //this.callback = false\n              this.$store.dispatch('resetDisposition')\n    \n            })\n          .catch(error => {\n              let payload = { title:  'Disposition Failed'  , text: error.response.data.error,}\n              this.$store.dispatch(\"resetError\",payload);\n              this.$parent.tryAgain = false\n              this.$parent.errorModal = true\n            })\n      }\n    },\n  },\n  computed: {\n    options() {\n      return this.$store.state.dispositionOptions;\n    },\n    error() {\n      return this.$store.state.hangupError;\n    },\n    hangupReason() {\n      return this.$store.state.hangupReason;\n    },\n    disabled(){\n      return (this.selectDisposition == null) ? true : false\n    }\n    \n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n"]}]}