{"remainingRequest":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\TAILTASK\\user\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\src\\App.vue","mtime":1607669593721},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMud2ViU29ja2V0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB3ZWJTb2NrZXQ6IGZ1bmN0aW9uIHdlYlNvY2tldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjb25uZWN0aW9uID0gbmV3IFdlYlNvY2tldCgid3M6Ly8iICsgdGhpcy4kc29ja2V0ICsgIi9hcGkvdjEvd3MiKTsKICAgICAgY29uc29sZS5sb2coIkNvbm5lY3RpbmcgdG8gdGhlIHdlYnNvY2tldCBzZXJ2ZXIuLi4iKTsKCiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpID09IG51bGwgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bob25lJykgPT0gbnVsbCkgewogICAgICAgIGNvbnNvbGUubG9nKCJVc2VybmFtZSBvciBwaG9uZSBzdGlsbCBudWxsLHdlYnNvY2tldCBjb25uZWN0aW9uIGZhaWxlZCwgbm8gdXNlciIpOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJ3ZWJzb2NrZXQiLCAnT0ZGJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25uZWN0aW9uLm9ub3BlbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25uZWN0aW9uLnNlbmQoSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgInVzZXJuYW1lIjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSwKICAgICAgICAgICJwaG9uZSI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG9uZScpLAogICAgICAgICAgImNhbXBhaWduIjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhbXBhaWduJykKICAgICAgICB9KSk7CiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgInVzZXJuYW1lIjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSwKICAgICAgICAgICJwaG9uZSI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwaG9uZScpLAogICAgICAgICAgImNhbXBhaWduIjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhbXBhaWduJykKICAgICAgICB9KSk7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goIndlYnNvY2tldCIsICdPTicpOwogICAgICAgIGNvbnNvbGUubG9nKCJjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5Iik7CiAgICAgIH07CgogICAgICBjb25uZWN0aW9uLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2UuZGF0YSk7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goIndlYnNvY2tldCIsICdPTicpOwogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJmcm9tV2Vic29ja2V0IiwgZGF0YSk7CiAgICAgIH07CgogICAgICBjb25uZWN0aW9uLm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy9ldmVudAogICAgICAgIGNvbnNvbGUubG9nKCJTb2NrZXQgY2xvc2VkOiBPTiBDTE9TRSIpOyAvLywgZXZlbnQKCiAgICAgICAgX3RoaXMuJHBhcmVudC5zaG93Y2FtcGFpZ25Nb2RhbCA9IHRydWU7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goIndlYnNvY2tldCIsICdPRkYnKTsKICAgICAgfTsKCiAgICAgIGNvbm5lY3Rpb24ub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvL2V2dAogICAgICAgIGNvbnNvbGUubG9nKCJTb2NrZXQgY2xvc2VkIDogT04gRVJST1IiKTsKICAgICAgfTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzb2NrZXQ6IGZ1bmN0aW9uIHNvY2tldCgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLnNvY2tldDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzb2NrZXQ6IGZ1bmN0aW9uIHNvY2tldChuZXdWYWx1ZSkgewogICAgICBpZiAobmV3VmFsdWUgPT0gJ09GRicpIHsKICAgICAgICBjb25zb2xlLmxvZygnU29ja2V0IG9mZiEnKTsKICAgICAgICB0aGlzLndlYlNvY2tldCgpOwogICAgICAgIHRydWU7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;AAOA,OAAA,KAAA,MAAA,SAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,OAFA,qBAEA;AACA,SAAA,SAAA;AACA,GAJA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AACA,UAAA,UAAA,GAAA,IAAA,SAAA,CAAA,UAAA,KAAA,OAAA,GAAA,YAAA,CAAA;AAEA,MAAA,OAAA,CAAA,GAAA,CAAA,uCAAA;;AAEA,UAAA,YAAA,CAAA,OAAA,CAAA,MAAA,KAAA,IAAA,IAAA,YAAA,CAAA,OAAA,CAAA,OAAA,KAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,mEAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,WAAA,EAAA,KAAA;AACA;AACA;;AAEA,MAAA,UAAA,CAAA,MAAA,GAAA,YAAA;AAEA,QAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA,CAAA;AAAA,sBAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AAAA,mBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AAAA,sBAAA,YAAA,CAAA,OAAA,CAAA,UAAA;AAAA,SAAA,CAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA;AAAA,sBAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AAAA,mBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AAAA,sBAAA,YAAA,CAAA,OAAA,CAAA,UAAA;AAAA,SAAA,CAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,WAAA,EAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,wBAAA;AAEA,OAPA;;AASA,MAAA,UAAA,CAAA,SAAA,GAAA,UAAA,OAAA,EAAA;AACA,YAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,WAAA,EAAA,IAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,eAAA,EAAA,IAAA;AACA,OAJA;;AAMA,MAAA,UAAA,CAAA,OAAA,GAAA,YAAA;AAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,yBAAA,EADA,CACA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,iBAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,WAAA,EAAA,KAAA;AACA,OAJA;;AAMA,MAAA,UAAA,CAAA,OAAA,GAAA,YAAA;AAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,0BAAA;AACA,OAFA;AAGA;AApCA,GANA;AA4CA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,aAAA,KAAA,CAAA,KAAA,CAAA,MAAA;AACA;AAHA,GA5CA;AAiDA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,QADA,EACA;AACA,UAAA,QAAA,IAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,aAAA;AACA,aAAA,SAAA;AACA;AACA;AACA;AAPA;AAjDA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport store from '@/store'\n\nexport default {\n  name: 'App',\n  created () {\n    this.webSocket()\n  },\n  \n  methods: {\n    webSocket() {\n      let connection = new WebSocket(\"ws://\" + this.$socket +\"/api/v1/ws\")\n\n      console.log(\"Connecting to the websocket server...\")\n\n      if (localStorage.getItem('user') == null || localStorage.getItem('phone') == null) {\n        console.log(\"Username or phone still null,websocket connection failed, no user\");\n        store.dispatch(\"websocket\", 'OFF');\n        return;\n      }\n\n      connection.onopen = () => {\n\n          connection.send(JSON.stringify({ \"username\": localStorage.getItem('user'), \"phone\": localStorage.getItem('phone') ,\"campaign\": localStorage.getItem('campaign')}))\n          console.log(JSON.stringify(    { \"username\": localStorage.getItem('user'), \"phone\": localStorage.getItem('phone') ,\"campaign\": localStorage.getItem('campaign')}))\n          store.dispatch(\"websocket\", 'ON');\n          console.log(\"connected successfully\")\n          \n      };\n      \n      connection.onmessage = (message) => {\n          let data = JSON.parse(message.data);\n          store.dispatch(\"websocket\", 'ON');\n          store.dispatch(\"fromWebsocket\", data);\n      };\n\n      connection.onclose = () => { //event\n          console.log(\"Socket closed: ON CLOSE\"); //, event\n          this.$parent.showcampaignModal = true\n          store.dispatch(\"websocket\", 'OFF');\n      };\n\n      connection.onerror = () => { //evt\n          console.log(\"Socket closed : ON ERROR\");\n      };\n    },\n  },\n  computed: {\n    socket () {\n        return  store.state.socket\n    },\n  },\n  watch: {\n    socket(newValue){\n      if(newValue == 'OFF'){\n        console.log('Socket off!')\n        this.webSocket()\n        true\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":"src"}]}