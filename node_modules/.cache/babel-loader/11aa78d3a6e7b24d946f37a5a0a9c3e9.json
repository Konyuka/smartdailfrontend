{"remainingRequest":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\TAILTASK\\user\\src\\components\\modals\\CampaignModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\src\\components\\modals\\CampaignModal.vue","mtime":1607692989767},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\TAILTASK\\user\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvdXNlci9EZXNrdG9wL1RBSUxUQVNLL3VzZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NhbXBhaWduTW9kYWwnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RhbDogdHJ1ZSwKICAgICAgb3B0aW9uczogW10sCiAgICAgIHNlbGVjdGVkQ2FtcGFpZ246IG51bGwsCiAgICAgIHNlZW46IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMub3B0aW9ucyA9IHRoaXMuJHN0b3JlLnN0YXRlLmNhbXBhaWduczsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0Rpc2FibGU6IGZ1bmN0aW9uIGlzRGlzYWJsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRDYW1wYWlnbiA9PSBudWxsOwogICAgfSwKICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KCkgewogICAgICByZXR1cm4gdGhpcy4kcGFyZW50LnNlbGVjdDsKICAgIH0sCiAgICBjYW1wYWlnbnM6IGZ1bmN0aW9uIGNhbXBhaWducygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmNhbXBhaWduczsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdENhbXBhaWduOiBmdW5jdGlvbiBzdWJtaXRDYW1wYWlnbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHBheWxvYWQsIHJlc3BvbnNlLCBfcGF5bG9hZCwgX3BheWxvYWQyOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5zZWxlY3RlZENhbXBhaWduKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgcGF5bG9hZCA9IHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyksCiAgICAgICAgICAgICAgICAgIGNhbXBhaWduOiBfdGhpcy5zZWxlY3RlZENhbXBhaWduCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhbXBhaWduVGVtcCcsIF90aGlzLnNlbGVjdGVkQ2FtcGFpZ24pOwogICAgICAgICAgICAgICAgX3RoaXMuJHBhcmVudC5zZWxlY3QgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRodHRwLnBvc3QoIi9hcGkvdjEvY2FtcGFpZ24vbG9naW4gIiwgcGF5bG9hZCwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICAgICJBdXRob3JpemF0aW9uIjogIkJlYXJlciAiLmNvbmNhdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICBfdGhpcy5hZnRlckxvZ2luKCk7CgogICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5jYW1wYWlnbiA9IF90aGlzLnNlbGVjdGVkQ2FtcGFpZ247CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldFBob25lQ2FtcHMiLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgICAgICAgaWYgKF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEuZXJyb3IgPT0gJ2xvZ2luIHRpbWVvdXQnKSB7CiAgICAgICAgICAgICAgICAgIF9wYXlsb2FkID0gewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2FsbCBBZ2VudCBBZ2FpbicsCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0tpbmRseSBwaWNrIHRoZSBjYWxsIHRvIHN0YXJ0IGEgY29uZmVyZW5jZS5Zb3UgbXVzdCBzZWxlY3QgYSBjYW1wYWlnbiB0byBzdWNjZXNzZnVsbHkgbG9naW4gdG8gdGhlIHN5c3RlbSBhbmQgcmVjaWV2ZSB0aGUgY2FsbCcKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgicmVzZXRFcnJvciIsIF9wYXlsb2FkKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF9wYXlsb2FkMiA9IHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0xvZ2luIEZhaWxlZCAnLAogICAgICAgICAgICAgICAgICAgIHRleHQ6IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEuZXJyb3IKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgicmVzZXRFcnJvciIsIF9wYXlsb2FkMik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuJHBhcmVudC5jYW1wYWlnbk1vZGFsID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzLiRwYXJlbnQudHJ5QWdhaW4gPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMuJHBhcmVudC5lcnJvck1vZGFsID0gdHJ1ZTsgLy9jb25zb2xlLmxvZyhlcnJvcikKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTVdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFmdGVyTG9naW46IGZ1bmN0aW9uIGFmdGVyTG9naW4oKSB7CiAgICAgIHRoaXMuJHBhcmVudC5zZWxlY3QgPSBmYWxzZTsKICAgICAgdGhpcy53ZWJTb2NrZXQoKTsKICAgIH0sCiAgICB3ZWJTb2NrZXQ6IGZ1bmN0aW9uIHdlYlNvY2tldCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgY29ubmVjdGlvbiA9IG5ldyBXZWJTb2NrZXQoIndzOi8vIiArIHRoaXMuJHNvY2tldCArICIvYXBpL3YxL3dzIik7CgogICAgICBjb25uZWN0aW9uLm9ub3BlbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygiU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0byB0aGUgIHdlYnNvY2tldCBzZXJ2ZXIiKTsKICAgICAgICB2YXIgcGF5bG9hZCA9IHsKICAgICAgICAgICJ1c2VybmFtZSI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyksCiAgICAgICAgICAicGhvbmUiOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGhvbmUnKSwKICAgICAgICAgICJjYW1wYWlnbiI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYW1wYWlnbicpCiAgICAgICAgfTsKICAgICAgICBjb25uZWN0aW9uLnNlbmQoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpOwogICAgICB9OwoKICAgICAgY29ubmVjdGlvbi5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlLmRhdGEpOwoKICAgICAgICBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCJmcm9tV2Vic29ja2V0IiwgZGF0YSk7CiAgICAgIH07CgogICAgICBjb25uZWN0aW9uLm9uY2xvc2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKCdTb2NrZXQgaXMgY2xvc2VkLiBSZWNvbm5lY3Qgd2lsbCBiZSBhdHRlbXB0ZWQgaW4gMSBzZWNvbmQuJywgZS5yZWFzb24pOwogICAgICAgIHRoaXMuJHBhcmVudC5zaG93Y2FtcGFpZ25Nb2RhbCA9IHRydWU7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGlzLndlYlNvY2tldCgpOwogICAgICAgIH0sIDIwMDApOwogICAgICB9OwoKICAgICAgY29ubmVjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKGV2dCkgewogICAgICAgIGNvbnNvbGUubG9nKCJTb2NrZXQgY2xvc2VkOiAiLCBldnQpOwogICAgICB9OwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBwYXlsb2FkID0gewogICAgICAgICJ1c2VybmFtZSI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykKICAgICAgfTsKICAgICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICAgIHJldHVybiB0aGlzLiRodHRwLnBvc3QoIi9hcGkvdjEvbG9nb3V0IiwgcGF5bG9hZCwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIuY29uY2F0KHRva2VuKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgibG9nb3V0Iik7CgogICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEuc3RhdHVzKTsKCiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuc3RhdHVzID09ICJVbmF1dGhvcml6ZWQiKSB7CiAgICAgICAgICBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCJsb2dvdXQiKTsKCiAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCIiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["CampaignModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <!-- Campaign Modal -->\n    <div v-if=\"modal\" class=\"fixed z-10 inset-0 overflow-y-auto\">\n      <div class=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n        \n        <div class=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n          <div class=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n        </div>\n\n        <!-- This element is to trick the browser into centering the modal contents. -->\n        <span class=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n      \n        <div class=\"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-headline\">\n          \n          <div v-if=\"select\">\n          <div>\n            <label id=\"listbox-label\" class=\"text-center block text-md font-medium text-black\">\n              Select User Campaign\n            </label>\n            <div class=\"mt-4 px-20\">\n            <select v-model=\"selectedCampaign\"  class=\"w-full border bg-white rounded px-3 py-2 outline-none\">\n              <option v-for=\"option in options\" :key=\"option\" >{{ option }}</option>\n            </select>\n            </div>\n          </div>\n\n          <div class=\"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense\">\n            <button @click=\"submitCampaign\" type=\"button\" class=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-900 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm\">\n              Submit\n            </button>\n            <button  @click.prevent=\"logout\" type=\"button\" class=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm\">\n              Logout\n            </button>\n          </div>\n          </div>\n\n        <div v-else class=\"m-auto w-1/2\">\n          <div >\n          <h3 class=\"text-lg font-bold text-gray-700\">\n            Answer Phone Conference\n          </h3>    \n          <svg class=\"h-28 w-28 ml-14 pt-5 transition duration-500 ease-in-out text-indigo-400 hover:text-indigo-900 transform hover:-translate-y-1 hover:scale-110\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n          </svg>\n          </div>\n        </div>\n\n        </div>\n\n\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'CampaignModal',\n  data(){\n    return{\n      modal: true,\n      options: [],\n      selectedCampaign: null,\n      seen: false,\n    }\n  },\n  mounted() {\n     this.options = this.$store.state.campaigns\n  },\n  computed: {\n    isDisable() {\n      return this.selectedCampaign == null;\n    },\n    select(){\n      return this.$parent.select\n    },\n    campaigns(){\n      return this.$store.state.campaigns;\n    }\n  },\n  methods:{\n    async submitCampaign() {\n      console.log(this.selectedCampaign)\n      try {\n        let payload = { username: localStorage.getItem('user'), campaign: this.selectedCampaign }\n        localStorage.setItem('campaignTemp', this.selectedCampaign)\n        this.$parent.select = false;\n        let response = await this.$http.post(\"/api/v1/campaign/login \", payload, { headers: { \"Content-Type\": \"application/json\",\"Accept\": \"application/json\", \"Authorization\": `Bearer ${localStorage.getItem('token')}` } });\n        console.log(response)\n        this.afterLogin()\n        response.data.campaign = this.selectedCampaign\n        console.log(response.data)\n        this.$store.dispatch(\"setPhoneCamps\", response.data); \n      } \n      catch (error) {\n        console.log(error)\n        if(error.response.data.error == 'login timeout'){\n          let payload = { title: 'Call Agent Again', text: 'Kindly pick the call to start a conference.You must select a campaign to successfully login to the system and recieve the call',}\n          this.$store.dispatch(\"resetError\",payload);\n        }else{\n          let payload = { title: 'Login Failed ', text: error.response.data.error }\n          this.$store.dispatch(\"resetError\",payload);\n        }\n\n\n        this.$parent.campaignModal = true\n        this.$parent.tryAgain = true\n        this.$parent.errorModal = true\n        //console.log(error)\n      }\n    },\n    afterLogin(){\n      this.$parent.select = false\n      this.webSocket()\n    },\n    webSocket(){\n      let connection = new WebSocket(\"ws://\" + this.$socket +\"/api/v1/ws\")\n      connection.onopen = () => {\n        console.log(\"Successfully connected to the  websocket server\")\n        let payload = {\"username\": localStorage.getItem('user'),\"phone\":localStorage.getItem('phone'), \"campaign\": localStorage.getItem('campaign')}\n        connection.send(JSON.stringify(payload))\n      };\n      connection.onmessage = (message) => {\n        let data = JSON.parse(message.data);\n        this.$store.dispatch(\"fromWebsocket\", data);\n      };\n      connection.onclose = function(e) {\n        console.log('Socket is closed. Reconnect will be attempted in 1 second.', e.reason);\n        this.$parent.showcampaignModal = true\n        setTimeout(function() {\n          this.webSocket();\n        }, 2000);\n      };\n      connection.onerror = (evt) => {\n        console.log(\"Socket closed: \", evt);\n      };\n    },\n    logout() {\n      let payload = { \"username\": localStorage.getItem('user'), }\n      let token = localStorage.getItem('token')\n      return this.$http\n        .post(\"/api/v1/logout\", payload, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n          },\n          })\n        .then((response) => {\n          if(response){\n            console.log(response.data)\n          }\n          this.$store.dispatch(\"logout\");\n          this.$router.push(\"/\");\n\n           })\n        .catch((error) => {\n          console.log(error.response);\n          console.log(error.response.data.status);\n          if (error.response.data.status == \"Unauthorized\") {\n            this.$store.dispatch(\"logout\");\n            this.$router.push(\"\");\n          }\n          })\n    },\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n @click=\"modal = !modal\"\n</style>\n"],"sourceRoot":"src/components/modals"}]}